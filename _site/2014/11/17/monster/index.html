<html lang="en">
  <head>
    <link rel="shortcut icon" href="/img/yotsuba.png">
    <meta charset="utf-8">
    <title>i love yotsuba</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="my own journal and domestic violence">

    <link href="/css/bootstrap.css" rel="stylesheet">
    </style>
    <meta charset="utf-8">
    <title>i love yotsuba</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="my own journal and domestic violence">
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"> </script>

    <link rel="stylesheet" href="/css/style.css">
    <link href='http://fonts.googleapis.com/css?family=PT+Sans' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Droid+Sans' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Ubuntu' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>

    <link rel="stylesheet" type="text/css" href="/css/zenburn.css">

              		
	</head>
  <body>
    <div id="sidebar">
   		<a href="/"><span style="height: 50px; line-height: 50px;"><greet>I Love Je</greet></span></a>
	<!--<a href="/"><img src="/img/YK_hex_small.png" border="0"></img></a> <br><br>
	   <greet>Je's side story</greet> <br>-->
 	   <br>
 	   <div class="ico">
	    <!--<a href="https://github.com/gegenokitaro"><img src="/img/btn-git.png"></a>
	    <a href="https://twitter.com/rizal_hokage"><img src="/img/ic_twitter.png"></a>
	    <a href="mailto:sol.rizal@gmail.com"><img src="/img/ic_gmail.png"></a>-->
	    <a href="https://github.com/gegenokitaro" target="blank"><span style="background: rgba(72,72,72,0.9);">github</span></a>
 	   	<a href="https://twitter.com/rizal_hokage" target="blank"><span style="background: rgba(47,118,151,0.9);">twitter</span></a>
 	   	<a href="mailto:sol.rizal@gmail.com" target="blank"><span style="background: rgba(195,90,90,0.9);">email</span></a>
		</div>
 	
    </div>




	<div id="content">
    <div id="title">
	    <h2>Monster!! (WIP)</h2>
	</div>
	<div id="section">
            
<p>This time, is the time for monsterwm. Lately I use this minimalist wm, yes it’s a tiling wm, and figure something out. Monsterwm is awesome. It comes with pre-config. Much like dwm, you must config the wm before compile it so you can use it. I don’t really like the concept of pre-config wm at first. I think, such a pain in the ass. We must make, make install, then log out from X and relogin. But after using it for a while, I found this wm is pretty customizable.</p>

<p><br />
What I want, is to make this clone of xmonad desktop using some other wm. For that, I will use monsterwm with some of its pre-configuration and make another desktop that resembles it.</p>

<p><img src="/img/dsktp-bocknife.png" alt="xmonad with the song of bump of chicken - knife" /></p>

<p><br />
Okay, let’s move to the documentation
<br /></p>

<p>First, you clone it using git. In this case, I’m using its branch ‘uselessgap’ so I can add a Gap between each window that stacked.</p>

<p>credit to c00kiemon5ter for making this awesome wm.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="gp">$ </span>git clone https://github.com/c00kiemon5ter/monsterwm.git
<span class="gp">$ </span><span class="nb">cd </span>monsterwm
<span class="gp">$ </span>git checkout uselessgap
<span class="gp">$ </span><span class="nb">cd </span>monsterwm</code></pre></figure>

<p>If you <code class="highlighter-rouge">ls</code> inside its directory, you can see there is <code class="highlighter-rouge">config.def.h</code>. Or usually just <code class="highlighter-rouge">config.h</code>. It’s okay. We will just proceed to the next step. Configuring monsterwm’s pre-config.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="o">(</span>~/g/monsterwm<span class="o">)</span> <span class="o">(</span>master<span class="o">)</span> ls
config.def.h  config.h  LICENSE  Makefile  monsterwm.1  monsterwm.c  README.md</code></pre></figure>

<p><br />
Edit <code class="highlighter-rouge">config.h</code> or <code class="highlighter-rouge">config.def.h</code> using your favorite editor. I’m using vim, just so you know. Inside, we will stumble upon many line of code, so I will skip some code, and just edit the ones that i need.</p>

<figure class="highlight"><pre><code class="language-c" data-lang="c"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24</pre></td><td class="code"><pre><span class="cm">/** modifiers **/</span>
<span class="cp">#define MOD1            Mod1Mask
#define MOD4            Mod4Mask
#define MOD5            Mod5Mask
#define CONTROL         ControlMask
#define SHIFT           ShiftMask
</span>
<span class="cm">/** generic settings **/</span>
<span class="cp">#define MASTER_SIZE     0.76
#define SHOW_PANEL      True
#define TOP_PANEL       True
#define PANEL_HEIGHT    16
#define DEFAULT_MODE    TILE
#define ATTACH_ASIDE    True
#define FOLLOW_WINDOW   False
#define FOLLOW_MOUSE    False
#define CLICK_TO_FOCUS  True
#define FOCUS_BUTTON    Button3
#define BORDER_WIDTH    3
#define FOCUS           "#181818"
#define UNFOCUS         "#141414"
#define MINWSZ          50
#define DEFAULT_DESKTOP 0
#define DESKTOPS        3</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure>

<p>I define <code class="highlighter-rouge">MOD1</code>, <code class="highlighter-rouge">MOD4</code>, and <code class="highlighter-rouge">MOD5</code> for <code class="highlighter-rouge">altkey</code>, <code class="highlighter-rouge">superkey</code>, and I already forgot what <code class="highlighter-rouge">MOD5</code> means respectively. As you can see we can define anything in that header file. Underneath that code, we can find many <code class="highlighter-rouge">keybindings</code> configuration. So, I will leave that area in your preferences. I only change small parts for <code class="highlighter-rouge">keybindings</code>.</p>

<figure class="highlight"><pre><code class="language-c" data-lang="c"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18</pre></td><td class="code"><pre><span class="k">static</span> <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">menucmd</span><span class="p">[]</span>	   <span class="o">=</span> <span class="p">{</span> <span class="s">"dmenu_run"</span><span class="p">,</span> <span class="s">"-fn"</span><span class="p">,</span> <span class="s">"terminus 9"</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">};</span>
<span class="k">static</span> <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">filecmd</span><span class="p">[]</span>	   <span class="o">=</span> <span class="p">{</span> <span class="s">"pcmanfm"</span><span class="p">,</span> <span class="nb">NULL</span> <span class="p">};</span>
<span class="k">static</span> <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">termcmd</span><span class="p">[]</span>	   <span class="o">=</span> <span class="p">{</span> <span class="s">"termite"</span><span class="p">,</span> <span class="nb">NULL</span> <span class="p">};</span>
<span class="k">static</span> <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">webcmd</span><span class="p">[]</span>	   <span class="o">=</span> <span class="p">{</span> <span class="s">"dwb"</span><span class="p">,</span> <span class="nb">NULL</span> <span class="p">};</span>

<span class="o">---</span> <span class="n">and</span> <span class="n">so</span> <span class="n">on</span>

<span class="cm">/**
 * keyboard shortcuts
 */</span>
<span class="k">static</span> <span class="n">Key</span> <span class="n">keys</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
    <span class="cm">/* modifier		key            function           argument */</span>
    <span class="p">{</span>  <span class="n">MOD1</span><span class="p">,</span>            <span class="n">XK_p</span><span class="p">,</span>          <span class="n">spawn</span><span class="p">,</span>             <span class="p">{.</span><span class="n">com</span> <span class="o">=</span> <span class="n">menucmd</span><span class="p">}},</span>
    <span class="p">{</span>  <span class="n">MOD1</span><span class="p">,</span>            <span class="n">XK_w</span><span class="p">,</span>          <span class="n">spawn</span><span class="p">,</span>             <span class="p">{.</span><span class="n">com</span> <span class="o">=</span> <span class="n">webcmd</span><span class="p">}},</span>
    <span class="p">{</span>  <span class="n">MOD1</span><span class="p">,</span>            <span class="n">XK_t</span><span class="p">,</span>          <span class="n">spawn</span><span class="p">,</span>             <span class="p">{.</span><span class="n">com</span> <span class="o">=</span> <span class="n">filecmd</span><span class="p">}},</span>
    <span class="p">{</span>  <span class="n">MOD1</span><span class="o">|</span><span class="n">SHIFT</span><span class="p">,</span>      <span class="n">XK_Return</span><span class="p">,</span>     <span class="n">spawn</span><span class="p">,</span>             <span class="p">{.</span><span class="n">com</span> <span class="o">=</span> <span class="n">termcmd</span><span class="p">}},</span>

<span class="o">---</span> <span class="n">and</span> <span class="n">so</span> <span class="n">on</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure>

<p><br />
Aaaaand, we’re done. Just type <code class="highlighter-rouge">make</code> and then <code class="highlighter-rouge">sudo make install</code> in your terminal to make our ‘configed’ monsterwm on the run.</p>

<p>What now? If we try our monsterwm, it’s just a blank screen with some control of window. There will be no bar, no wallpaper, and no, I don’t like emptiness. So, the next step is to costumize the bar, the wallpaper, and the other complimentaries to make this wm okay to use.</p>

<p>For the top panel, I will use LemonBoy’s <code class="highlighter-rouge">bar</code>. It’s like dzen2, but with its own plus minus. You can use whatever panel you want. The configuration is pretty easy I think. There is no xft support on the LemonBoy’s <code class="highlighter-rouge">bar</code>, so if you want something that has xft support, you can use dzen2 or raedwulf’s version of <code class="highlighter-rouge">bar</code> with full xft support. Your choice.</p>

<p><br />
Okay, we will begin.</p>

<p>First, monsterwm is not xmonad. So we must config it before start it. Means, we have to parse some of its output and change it. Confusing? I can’t tell you what actually I mean, so let’s just make some code. May the Code bless us with its understanding. I will make <code class="highlighter-rouge">startup</code> file to launch monsterwm and it’s complimentaries.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13</pre></td><td class="code"><pre><span class="nv">ff</span><span class="o">=</span><span class="s2">"/tmp/monsterwm.fifo"</span>             <span class="c"># this part is to parse the output of monsterwm</span>
<span class="o">[[</span> -p <span class="nv">$ff</span> <span class="o">]]</span> <span class="o">||</span> mkfifo -m 600 <span class="s2">"</span><span class="nv">$ff</span><span class="s2">"</span>  <span class="c"># running on the wild</span>

xset +fp ~/.fonts/custom/ &amp;          
xset fp rehash &amp;
~/.fehbg &amp;
compton -f -D8 -I0.05 -O0.05 &amp;
xsetroot -cursor_name left_ptr &amp;
sh ~/.wm/monsterwm/status.sh &amp;
devmon &amp;
wmname LG3D &amp;

<span class="c"># and above is just what i usually run side to side with most of my wm</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure>

<p><br />
And the rest is to put the output of our parsing into <code class="highlighter-rouge">bar</code>. For now, I’m too lazy to explaining what in the name of hell is the meaning of this code. Maybe later when I’m not busy.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42</pre></td><td class="code"><pre><span class="k">while </span><span class="nb">read</span> -r; <span class="k">do</span>
    <span class="c"># filter output to only what we want to match and parse</span>
    <span class="o">[[</span> <span class="nv">$REPLY</span> <span class="o">=</span>~ ^<span class="o">(([[</span>:digit:]]+:<span class="o">)</span>+[[:digit:]]+ ?<span class="o">)</span>+<span class="nv">$ </span><span class="o">]]</span> <span class="o">&amp;&amp;</span> <span class="nb">read</span> -ra desktops <span class="o">&lt;&lt;&lt;</span> <span class="s2">"</span><span class="nv">$REPLY</span><span class="s2">"</span> <span class="o">||</span> <span class="k">continue
    
    for </span>desktop <span class="k">in</span> <span class="s2">"</span><span class="k">${</span><span class="nv">desktops</span><span class="p">[@]</span><span class="k">}</span><span class="s2">"</span>; <span class="k">do</span>
        <span class="c"># set values for</span>
        <span class="c"># d - the desktop id</span>
        <span class="c"># w - number of windows in that desktop</span>
        <span class="c"># m - tiling layout/mode for that desktop</span>
        <span class="c"># c - whether that desktop is the current (1) or not (0)</span>
        <span class="c"># u - whether a window in that desktop has an urgent hint set (1) or not (0)</span>
        <span class="nv">IFS</span><span class="o">=</span><span class="s1">':'</span> <span class="nb">read</span> -r d w m c u <span class="o">&lt;&lt;&lt;</span> <span class="s2">"</span><span class="nv">$desktop</span><span class="s2">"</span>
 
        <span class="c"># name each desktop </span>
        <span class="k">case</span> <span class="nv">$d</span> <span class="k">in
            </span>0<span class="p">)</span> <span class="nv">d</span><span class="o">=</span><span class="s2">" term"</span> <span class="nv">s</span><span class="o">=</span><span class="s2">" "</span>   <span class="p">;;</span>
            1<span class="p">)</span> <span class="nv">d</span><span class="o">=</span><span class="s2">" web"</span> <span class="nv">s</span><span class="o">=</span><span class="s2">" "</span> <span class="p">;;</span>
            2<span class="p">)</span> <span class="nv">d</span><span class="o">=</span><span class="s2">" fun"</span> <span class="nv">s</span><span class="o">=</span><span class="s2">" "</span> <span class="p">;;</span>
	    3<span class="p">)</span> <span class="nv">d</span><span class="o">=</span><span class="s2">" work"</span> <span class="nv">s</span><span class="o">=</span><span class="s2">" "</span> <span class="p">;;</span>
        <span class="k">esac</span>
 
       <span class="c"># name each layout/mode with a symbol underline=FF364069</span>
	<span class="o">((</span>c<span class="o">))</span> <span class="o">&amp;&amp;</span> <span class="nv">b</span><span class="o">=</span><span class="s2">"#FF272727"</span> <span class="nv">u</span><span class="o">=</span><span class="s2">"#FFA93432"</span> <span class="o">&amp;&amp;</span> <span class="k">case</span> <span class="nv">$m</span> <span class="k">in
            </span>0<span class="p">)</span> <span class="nv">i</span><span class="o">=</span><span class="s2">"  %{B#FF333333}  %{B}"</span> <span class="p">;;</span>
            1<span class="p">)</span> <span class="nv">i</span><span class="o">=</span><span class="s2">"   ⮘ "</span> <span class="p">;;</span>
            2<span class="p">)</span> <span class="nv">i</span><span class="o">=</span><span class="s2">"  [B]"</span> <span class="p">;;</span>
            3<span class="p">)</span> <span class="nv">i</span><span class="o">=</span><span class="s2">"  [G]"</span> <span class="p">;;</span>
        <span class="k">esac</span>  <span class="o">||</span> <span class="nv">b</span><span class="o">=</span><span class="s2">"#FF161616"</span> <span class="nv">u</span><span class="o">=</span><span class="s2">"#FF161616"</span>
 
        <span class="c"># if the desktop has an urgent hint its color should be #ff0000</span>
        <span class="o">((</span>u<span class="o">))</span> <span class="o">&amp;&amp;</span> <span class="nv">b</span><span class="o">=</span><span class="s2">"#FFFF7871"</span>
 
        <span class="c"># if the desktop has windows print that number next to the desktop name</span>
        <span class="c"># else just print the desktop name</span>
        <span class="o">((</span>w<span class="o">))</span> <span class="o">&amp;&amp;</span> r+<span class="o">=</span><span class="s2">"%{B</span><span class="nv">$b</span><span class="s2">}%{U</span><span class="nv">$u</span><span class="s2">}%{+u} </span><span class="nv">$d</span><span class="s2"> %{F#FF3E3E3E}[</span><span class="nv">$w</span><span class="s2">]%{F} %{-u}%{B}"</span> <span class="o">||</span> r+<span class="o">=</span><span class="s2">"%{B</span><span class="nv">$b</span><span class="s2">}%{U</span><span class="nv">$u</span><span class="s2">}%{+u} </span><span class="nv">$d</span><span class="s2"> %{F#FF3E3E3E}[-]%{F} %{-u}%{B}"</span>
    <span class="k">done</span>
    <span class="c"># read from fifo and output to dzen2</span>
    <span class="nb">printf</span> <span class="s2">"%s%s</span><span class="se">\n</span><span class="s2">"</span> <span class="s2">"</span><span class="nv">$r</span><span class="s2">"</span> <span class="s2">"</span><span class="nv">$i</span><span class="s2">"</span> <span class="o">&amp;&amp;</span> <span class="nb">unset </span>r
<span class="k">done</span> &lt; <span class="s2">"</span><span class="nv">$ff</span><span class="s2">"</span> | bar -p -d -g 300x17+0+0 -f <span class="s1">'-*-stlarch-*-*-*-*-10-*-*-*-*-*-*-*,-*-lemon-*-*-*-*-10-*-*-*-*-*-*-*'</span> -u 3 -B <span class="s1">'#FF161616'</span> -F <span class="s2">"FF9A9A9A"</span>&amp;
 
<span class="c"># pass output to fifo</span>
monsterwm &gt; <span class="s2">"</span><span class="nv">$ff</span><span class="s2">"</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure>

<p><br /></p>

<p>The code above will make the bar look like this.</p>

<p><img src="/img/monster-bar.png" alt="monsterbar" /></p>

<p>Next, we will try to make statusbar beside the main bar. My purpose is to make something like the following screenshot. Including the wallpaper, terminal (which is <code class="highlighter-rouge">rxvt-unicode</code>), and the other complimentaries that running in the terminal. Here is the screenshot what it has to be if we continue tweaking.</p>

<p><img src="/img/monster.png" alt="monsterwm" /></p>

<hr />

<div class="note">
You can get the codes above here <a href="https://github.com/gegenokitaro/dot/tree/master/desktop/Monster">Monster!!</a>
</div>

	</div>
        <div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES * * */
    var disqus_shortname = 'gegenokitaro';
    
    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>

</body>

</html>
    </div>
