<html lang="en">
  <head>
    <link rel="shortcut icon" href="/img/yotsuba.png">
    <meta charset="utf-8">
    <title>Monster!! (WIP)</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="my own journal and domestic violence">

    <link href="/css/bootstrap.css" rel="stylesheet">
    </style>
    <meta charset="utf-8">
    <title>i love yotsuba</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="my own journal and domestic violence">

    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" type="text/css" href="/css/zenburn.css">

              		
	</head>
  <body>
    <div id="sidebar">
   		<a href="/"><span style="height: 50px; line-height: 50px;"><greet>I Love Je</greet></span></a>
	<!--<a href="/"><img src="/img/YK_hex_small.png" border="0"></img></a> <br><br>
	   <greet>Je's side story</greet> <br>-->
 	   <br>
 	   <div class="ico">
	    <!--<a href="https://github.com/gegenokitaro"><img src="/img/btn-git.png"></a>
	    <a href="https://twitter.com/rizal_hokage"><img src="/img/ic_twitter.png"></a>
	    <a href="mailto:sol.rizal@gmail.com"><img src="/img/ic_gmail.png"></a>-->
	    <a href="https://github.com/gegenokitaro" target="blank"><span style="background: rgba(72,72,72,0.9);">github</span></a>
 	   	<a href="https://twitter.com/rizal_hokage" target="blank"><span style="background: rgba(47,118,151,0.9);">twitter</span></a>
 	   	<a href="mailto:sol.rizal@gmail.com" target="blank"><span style="background: rgba(195,90,90,0.9);">email</span></a>
		</div>
 	
    </div>




	<div id="content">
    <div id="title">
	    <h2>Monster!! (WIP)</h2>
	</div>
	<div id="section">
            
<p>This time, is the time for monsterwm. Lately I use this minimalist wm, yes it’s a tiling wm, and figure something out. Monsterwm is awesome. It comes with pre-config. Much like dwm, you must config the wm before compile it so you can use it. I don’t really like the concept of pre-config wm at first. I think, such a pain in the ass. We must make, make install, then log out from X and relogin. But after using it for a while, I found this wm is pretty customizable.</p>

<p><br />
What I want, is to make this clone of xmonad desktop using some other wm. For that, I will use monsterwm with some of its pre-configuration and make another desktop that resembles it.</p>

<p><img src="/img/dsktp-bocknife.png" alt="xmonad with the song of bump of chicken - knife" /></p>

<p><br />
Okay, let’s move to the documentation
<br /></p>

<p>First, you clone it using git. In this case, I’m using its branch ‘uselessgap’ so I can add a Gap between each window that stacked.</p>

<p>credit to c00kiemon5ter for making this awesome wm.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>git clone https://github.com/c00kiemon5ter/monsterwm.git
<span class="nv">$ </span><span class="nb">cd </span>monsterwm
<span class="nv">$ </span>git checkout uselessgap
<span class="nv">$ </span><span class="nb">cd </span>monsterwm</code></pre></figure>

<p>If you <code>ls</code> inside its directory, you can see there is <code>config.def.h</code>. Or usually just <code>config.h</code>. It’s okay. We will just proceed to the next step. Configuring monsterwm’s pre-config.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="o">(</span>~/g/monsterwm<span class="o">)</span> <span class="o">(</span>master<span class="o">)</span> ls
config.def.h  config.h  LICENSE  Makefile  monsterwm.1  monsterwm.c  README.md</code></pre></figure>

<p><br />
Edit <code>config.h</code> or <code>config.def.h</code> using your favorite editor. I’m using vim, just so you know. Inside, we will stumble upon many line of code, so I will skip some code, and just edit the ones that i need.</p>

<figure class="highlight"><pre><code class="language-c" data-lang="c"><span class="lineno"> 1</span> <span class="cm">/** modifiers **/</span>
<span class="lineno"> 2</span> <span class="cp">#define MOD1            Mod1Mask</span>
<span class="lineno"> 3</span> <span class="cp">#define MOD4            Mod4Mask</span>
<span class="lineno"> 4</span> <span class="cp">#define MOD5            Mod5Mask</span>
<span class="lineno"> 5</span> <span class="cp">#define CONTROL         ControlMask</span>
<span class="lineno"> 6</span> <span class="cp">#define SHIFT           ShiftMask</span>
<span class="lineno"> 7</span> 
<span class="lineno"> 8</span> <span class="cm">/** generic settings **/</span>
<span class="lineno"> 9</span> <span class="cp">#define MASTER_SIZE     0.76</span>
<span class="lineno">10</span> <span class="cp">#define SHOW_PANEL      True</span>
<span class="lineno">11</span> <span class="cp">#define TOP_PANEL       True</span>
<span class="lineno">12</span> <span class="cp">#define PANEL_HEIGHT    16</span>
<span class="lineno">13</span> <span class="cp">#define DEFAULT_MODE    TILE</span>
<span class="lineno">14</span> <span class="cp">#define ATTACH_ASIDE    True</span>
<span class="lineno">15</span> <span class="cp">#define FOLLOW_WINDOW   False</span>
<span class="lineno">16</span> <span class="cp">#define FOLLOW_MOUSE    False</span>
<span class="lineno">17</span> <span class="cp">#define CLICK_TO_FOCUS  True</span>
<span class="lineno">18</span> <span class="cp">#define FOCUS_BUTTON    Button3</span>
<span class="lineno">19</span> <span class="cp">#define BORDER_WIDTH    3</span>
<span class="lineno">20</span> <span class="cp">#define FOCUS           &quot;#181818&quot;</span>
<span class="lineno">21</span> <span class="cp">#define UNFOCUS         &quot;#141414&quot;</span>
<span class="lineno">22</span> <span class="cp">#define MINWSZ          50</span>
<span class="lineno">23</span> <span class="cp">#define DEFAULT_DESKTOP 0</span>
<span class="lineno">24</span> <span class="cp">#define DESKTOPS        3</span></code></pre></figure>

<p>I define <code>MOD1</code>, <code>MOD4</code>, and <code>MOD5</code> for <code>altkey</code>, <code>superkey</code>, and I already forgot what <code>MOD5</code> means respectively. As you can see we can define anything in that header file. Underneath that code, we can find many <code>keybindings</code> configuration. So, I will leave that area in your preferences. I only change small parts for <code>keybindings</code>.</p>

<figure class="highlight"><pre><code class="language-c" data-lang="c"><span class="lineno"> 1</span> <span class="k">static</span> <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">menucmd</span><span class="p">[]</span>	   <span class="o">=</span> <span class="p">{</span> <span class="s">&quot;dmenu_run&quot;</span><span class="p">,</span> <span class="s">&quot;-fn&quot;</span><span class="p">,</span> <span class="s">&quot;terminus 9&quot;</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">};</span>
<span class="lineno"> 2</span> <span class="k">static</span> <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">filecmd</span><span class="p">[]</span>	   <span class="o">=</span> <span class="p">{</span> <span class="s">&quot;pcmanfm&quot;</span><span class="p">,</span> <span class="nb">NULL</span> <span class="p">};</span>
<span class="lineno"> 3</span> <span class="k">static</span> <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">termcmd</span><span class="p">[]</span>	   <span class="o">=</span> <span class="p">{</span> <span class="s">&quot;termite&quot;</span><span class="p">,</span> <span class="nb">NULL</span> <span class="p">};</span>
<span class="lineno"> 4</span> <span class="k">static</span> <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">webcmd</span><span class="p">[]</span>	   <span class="o">=</span> <span class="p">{</span> <span class="s">&quot;dwb&quot;</span><span class="p">,</span> <span class="nb">NULL</span> <span class="p">};</span>
<span class="lineno"> 5</span> 
<span class="lineno"> 6</span> <span class="o">---</span> <span class="n">and</span> <span class="n">so</span> <span class="n">on</span>
<span class="lineno"> 7</span> 
<span class="lineno"> 8</span> <span class="cm">/**</span>
<span class="lineno"> 9</span> <span class="cm"> * keyboard shortcuts</span>
<span class="lineno">10</span> <span class="cm"> */</span>
<span class="lineno">11</span> <span class="k">static</span> <span class="n">Key</span> <span class="n">keys</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
<span class="lineno">12</span>     <span class="cm">/* modifier		key            function           argument */</span>
<span class="lineno">13</span>     <span class="p">{</span>  <span class="n">MOD1</span><span class="p">,</span>            <span class="n">XK_p</span><span class="p">,</span>          <span class="n">spawn</span><span class="p">,</span>             <span class="p">{.</span><span class="n">com</span> <span class="o">=</span> <span class="n">menucmd</span><span class="p">}},</span>
<span class="lineno">14</span>     <span class="p">{</span>  <span class="n">MOD1</span><span class="p">,</span>            <span class="n">XK_w</span><span class="p">,</span>          <span class="n">spawn</span><span class="p">,</span>             <span class="p">{.</span><span class="n">com</span> <span class="o">=</span> <span class="n">webcmd</span><span class="p">}},</span>
<span class="lineno">15</span>     <span class="p">{</span>  <span class="n">MOD1</span><span class="p">,</span>            <span class="n">XK_t</span><span class="p">,</span>          <span class="n">spawn</span><span class="p">,</span>             <span class="p">{.</span><span class="n">com</span> <span class="o">=</span> <span class="n">filecmd</span><span class="p">}},</span>
<span class="lineno">16</span>     <span class="p">{</span>  <span class="n">MOD1</span><span class="o">|</span><span class="n">SHIFT</span><span class="p">,</span>      <span class="n">XK_Return</span><span class="p">,</span>     <span class="n">spawn</span><span class="p">,</span>             <span class="p">{.</span><span class="n">com</span> <span class="o">=</span> <span class="n">termcmd</span><span class="p">}},</span>
<span class="lineno">17</span> 
<span class="lineno">18</span> <span class="o">---</span> <span class="n">and</span> <span class="n">so</span> <span class="n">on</span></code></pre></figure>

<p><br />
Aaaaand, we’re done. Just type <code>make</code> and then <code>sudo make install</code> in your terminal to make our ‘configed’ monsterwm on the run.</p>

<p>What now? If we try our monsterwm, it’s just a blank screen with some control of window. There will be no bar, no wallpaper, and no, I don’t like emptiness. So, the next step is to costumize the bar, the wallpaper, and the other complimentaries to make this wm okay to use.</p>

<p>For the top panel, I will use LemonBoy’s <code>bar</code>. It’s like dzen2, but with its own plus minus. You can use whatever panel you want. The configuration is pretty easy I think. There is no xft support on the LemonBoy’s <code>bar</code>, so if you want something that has xft support, you can use dzen2 or raedwulf’s version of <code>bar</code> with full xft support. Your choice.</p>

<p><br />
Okay, we will begin.</p>

<p>First, monsterwm is not xmonad. So we must config it before start it. Means, we have to parse some of its output and change it. Confusing? I can’t tell you what actually I mean, so let’s just make some code. May the Code bless us with its understanding. I will make <code>startup</code> file to launch monsterwm and it’s complimentaries.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="lineno"> 1</span> <span class="nv">ff</span><span class="o">=</span><span class="s2">&quot;/tmp/monsterwm.fifo&quot;</span>             <span class="c"># this part is to parse the output of monsterwm</span>
<span class="lineno"> 2</span> <span class="o">[[</span> -p <span class="nv">$ff</span> <span class="o">]]</span> <span class="o">||</span> mkfifo -m <span class="m">600</span> <span class="s2">&quot;$ff&quot;</span>  <span class="c"># running on the wild</span>
<span class="lineno"> 3</span> 
<span class="lineno"> 4</span> xset +fp ~/.fonts/custom/ <span class="p">&amp;</span>          
<span class="lineno"> 5</span> xset fp rehash <span class="p">&amp;</span>
<span class="lineno"> 6</span> ~/.fehbg <span class="p">&amp;</span>
<span class="lineno"> 7</span> compton -f -D8 -I0.05 -O0.05 <span class="p">&amp;</span>
<span class="lineno"> 8</span> xsetroot -cursor_name left_ptr <span class="p">&amp;</span>
<span class="lineno"> 9</span> sh ~/.wm/monsterwm/status.sh <span class="p">&amp;</span>
<span class="lineno">10</span> devmon <span class="p">&amp;</span>
<span class="lineno">11</span> wmname LG3D <span class="p">&amp;</span>
<span class="lineno">12</span> 
<span class="lineno">13</span> <span class="c"># and above is just what i usually run side to side with most of my wm</span></code></pre></figure>

<p><br />
And the rest is to put the output of our parsing into <code>bar</code>. For now, I’m too lazy to explaining what in the name of hell is the meaning of this code. Maybe later when I’m not busy.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="lineno"> 1</span> <span class="k">while</span> <span class="nb">read</span> -r<span class="p">;</span> <span class="k">do</span>
<span class="lineno"> 2</span>     <span class="c"># filter output to only what we want to match and parse</span>
<span class="lineno"> 3</span>     <span class="o">[[</span> <span class="nv">$REPLY</span> <span class="o">=</span>~ ^<span class="o">(([[</span>:digit:<span class="o">]]</span>+:<span class="o">)</span>+<span class="o">[[</span>:digit:<span class="o">]]</span>+ ?<span class="o">)</span>+<span class="nv">$ </span><span class="o">]]</span> <span class="o">&amp;&amp;</span> <span class="nb">read</span> -ra desktops <span class="o">&lt;&lt;&lt;</span> <span class="s2">&quot;$REPLY&quot;</span> <span class="o">||</span> <span class="k">continue</span>
<span class="lineno"> 4</span>     
<span class="lineno"> 5</span>     <span class="k">for</span> desktop in <span class="s2">&quot;${desktops[@]}&quot;</span><span class="p">;</span> <span class="k">do</span>
<span class="lineno"> 6</span>         <span class="c"># set values for</span>
<span class="lineno"> 7</span>         <span class="c"># d - the desktop id</span>
<span class="lineno"> 8</span>         <span class="c"># w - number of windows in that desktop</span>
<span class="lineno"> 9</span>         <span class="c"># m - tiling layout/mode for that desktop</span>
<span class="lineno">10</span>         <span class="c"># c - whether that desktop is the current (1) or not (0)</span>
<span class="lineno">11</span>         <span class="c"># u - whether a window in that desktop has an urgent hint set (1) or not (0)</span>
<span class="lineno">12</span>         <span class="nv">IFS</span><span class="o">=</span><span class="s1">&#39;:&#39;</span> <span class="nb">read</span> -r d w m c u <span class="o">&lt;&lt;&lt;</span> <span class="s2">&quot;$desktop&quot;</span>
<span class="lineno">13</span>  
<span class="lineno">14</span>         <span class="c"># name each desktop </span>
<span class="lineno">15</span>         <span class="k">case</span> <span class="nv">$d</span> in
<span class="lineno">16</span>             0<span class="o">)</span> <span class="nv">d</span><span class="o">=</span><span class="s2">&quot; term&quot;</span> <span class="nv">s</span><span class="o">=</span><span class="s2">&quot; &quot;</span>   <span class="p">;;</span>
<span class="lineno">17</span>             1<span class="o">)</span> <span class="nv">d</span><span class="o">=</span><span class="s2">&quot; web&quot;</span> <span class="nv">s</span><span class="o">=</span><span class="s2">&quot; &quot;</span> <span class="p">;;</span>
<span class="lineno">18</span>             2<span class="o">)</span> <span class="nv">d</span><span class="o">=</span><span class="s2">&quot; fun&quot;</span> <span class="nv">s</span><span class="o">=</span><span class="s2">&quot; &quot;</span> <span class="p">;;</span>
<span class="lineno">19</span> 	    3<span class="o">)</span> <span class="nv">d</span><span class="o">=</span><span class="s2">&quot; work&quot;</span> <span class="nv">s</span><span class="o">=</span><span class="s2">&quot; &quot;</span> <span class="p">;;</span>
<span class="lineno">20</span>         <span class="k">esac</span>
<span class="lineno">21</span>  
<span class="lineno">22</span>        <span class="c"># name each layout/mode with a symbol underline=FF364069</span>
<span class="lineno">23</span> 	<span class="o">((</span>c<span class="o">))</span> <span class="o">&amp;&amp;</span> <span class="nv">b</span><span class="o">=</span><span class="s2">&quot;#FF272727&quot;</span> <span class="nv">u</span><span class="o">=</span><span class="s2">&quot;#FFA93432&quot;</span> <span class="o">&amp;&amp;</span> <span class="k">case</span> <span class="nv">$m</span> in
<span class="lineno">24</span>             0<span class="o">)</span> <span class="nv">i</span><span class="o">=</span><span class="s2">&quot;  %{B#FF333333}  %{B}&quot;</span> <span class="p">;;</span>
<span class="lineno">25</span>             1<span class="o">)</span> <span class="nv">i</span><span class="o">=</span><span class="s2">&quot;   ⮘ &quot;</span> <span class="p">;;</span>
<span class="lineno">26</span>             2<span class="o">)</span> <span class="nv">i</span><span class="o">=</span><span class="s2">&quot;  [B]&quot;</span> <span class="p">;;</span>
<span class="lineno">27</span>             3<span class="o">)</span> <span class="nv">i</span><span class="o">=</span><span class="s2">&quot;  [G]&quot;</span> <span class="p">;;</span>
<span class="lineno">28</span>         <span class="k">esac</span>  <span class="o">||</span> <span class="nv">b</span><span class="o">=</span><span class="s2">&quot;#FF161616&quot;</span> <span class="nv">u</span><span class="o">=</span><span class="s2">&quot;#FF161616&quot;</span>
<span class="lineno">29</span>  
<span class="lineno">30</span>         <span class="c"># if the desktop has an urgent hint its color should be #ff0000</span>
<span class="lineno">31</span>         <span class="o">((</span>u<span class="o">))</span> <span class="o">&amp;&amp;</span> <span class="nv">b</span><span class="o">=</span><span class="s2">&quot;#FFFF7871&quot;</span>
<span class="lineno">32</span>  
<span class="lineno">33</span>         <span class="c"># if the desktop has windows print that number next to the desktop name</span>
<span class="lineno">34</span>         <span class="c"># else just print the desktop name</span>
<span class="lineno">35</span>         <span class="o">((</span>w<span class="o">))</span> <span class="o">&amp;&amp;</span> r+<span class="o">=</span><span class="s2">&quot;%{B$b}%{U$u}%{+u} $d %{F#FF3E3E3E}[$w]%{F} %{-u}%{B}&quot;</span> <span class="o">||</span> r+<span class="o">=</span><span class="s2">&quot;%{B$b}%{U$u}%{+u} $d %{F#FF3E3E3E}[-]%{F} %{-u}%{B}&quot;</span>
<span class="lineno">36</span>     <span class="k">done</span>
<span class="lineno">37</span>     <span class="c"># read from fifo and output to dzen2</span>
<span class="lineno">38</span>     <span class="nb">printf</span> <span class="s2">&quot;%s%s\n&quot;</span> <span class="s2">&quot;$r&quot;</span> <span class="s2">&quot;$i&quot;</span> <span class="o">&amp;&amp;</span> <span class="nb">unset </span>r
<span class="lineno">39</span> <span class="k">done</span> &lt; <span class="s2">&quot;$ff&quot;</span> <span class="p">|</span> bar -p -d -g 300x17+0+0 -f <span class="s1">&#39;-*-stlarch-*-*-*-*-10-*-*-*-*-*-*-*,-*-lemon-*-*-*-*-10-*-*-*-*-*-*-*&#39;</span> -u <span class="m">3</span> -B <span class="s1">&#39;#FF161616&#39;</span> -F <span class="s2">&quot;FF9A9A9A&quot;</span><span class="p">&amp;</span>
<span class="lineno">40</span>  
<span class="lineno">41</span> <span class="c"># pass output to fifo</span>
<span class="lineno">42</span> monsterwm &gt; <span class="s2">&quot;$ff&quot;</span></code></pre></figure>

<p><br /></p>

<p>The code above will make the bar look like this.</p>

<p><img src="/img/monster-bar.png" alt="monsterbar" /></p>

<p>Next, we will try to make statusbar beside the main bar. My purpose is to make something like the following screenshot. Including the wallpaper, terminal (which is <code>rxvt-unicode</code>), and the other complimentaries that running in the terminal. Here is the screenshot what it has to be if we continue tweaking.</p>

<p><img src="/img/monster.png" alt="monsterwm" /></p>

<hr />

<div class="note">
You can get the codes above here <a href="https://github.com/gegenokitaro/dot/tree/master/desktop/Monster">Monster!!</a>
</div>

	</div>
        <div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES * * */
    var disqus_shortname = 'gegenokitaro';
    
    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>

</body>

</html>
    </div>
